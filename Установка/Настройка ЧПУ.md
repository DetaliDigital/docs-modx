# Настройка ЧПУ

ЧПУ (Человеку Понятный Урл, где Урл — это URL — указатель ресурсов в сети). Другими словами ЧПУ — это веб-адреса, удобные для восприятия человеком. Например, site.ru/service смотрится гораздо лучше, чем site.ru/index.php?id=2, где 2 — это id страницы сайта в MODX.

## Настройка базового URL

Для начала стоит установить базовый URL (<base href="">) в теге head. Это важный параметр, без него у вас постоянно будут дублироваться URL относительно текущей страницы при переходе на другую страницу.

**Синтаксис MODX**
```
<head>
<base href="[[!++site_url]]">
...
</head>
```
**Синтаксис Fenom**
```
<head>
<base href="{$_modx->config.site_url}">
...
</head>
```

## Установка дополнения translit

Установим в админке компонент трансалирации их два:

1. translit - Компонент для генерации дружественных url двух языковых версиях германия или русский.
2. yTranslit - Компонент для генерации дружественных url через api переводчика Яндекс.

## Непосредственная настройка ЧПУ в системных настройках

1. Переходим в пункт "Системные настройки" и выбираем из списка "Фильтр по разделу" пункт "Дружественные URL".
2. Устанавливаем значения настроек для "Дружественных URL".

**Обратите внимание на "Метод фильтрации символов в псевдонимах". Я ставлю "alphanumeric" - псевдоним может состоять ТОЛЬКО из букв и цифр.**

Вообще в MODX Revo заложены следующие форматы фильтрации символов:

* "pattern" - псевдоним может состоять только из символов соответствующих регулярному выражению (включен по умолчанию);
* "legal" - псевдоним может состоять из любых допустимых в URL символов;
* "alpha" - псевдоним может состоять только из букв;
* "alphanumeric" - псевдоним может состоять только из букв и цифр.

## О ЧПУ (SEF)

ЧПУ (SEF) - крайне важный параметр для пользователя и поисковых систем, с помощью ЧПУ проще ориентироваться на сайте.

Адрес ресурса сайта на MODX без ЧПУ выглядит так:

```
http://www.site.ru/index.php?id=5
```

ЧПУ (translit):

```
http://www.site.ru/kontakti
```

ЧПУ (yTranslit)

```
http://www.site.ru/contacts
```

Ссылка состоит из следующих элементов

```
http://{site_url}/{contener}/document.html
```

## Переименовываем файл .htaccess

Переименовываем файл дополнительной конфигурации ht.access в .htaccess который находиться в корневой папке сайта.

![Файл .htaccess](http://files.dtls.su/img/article/a08092019-1/ht.png)

## Настраиваем суффиксы

Для настройки суффикса документа (ресурса) мы заходим Содержимое -> Типы содержимого. Необходимо изменить строку html и изменить значение .html и  /

![Суффикс документа](http://files.dtls.su/img/article/a08092019-1/suffix.png)

Для настроски суфикса контейнера (параметр **isfolder=1**) мы заходим Шестренка -> Системные настройки -> Дружественные URL (19) -> Суффикс контейнера. Как правило данный параметр не стоить изменять.

![Суффикс документа](http://files.dtls.su/img/article/a08092019-1/suffix.png)

## Исключить контенер из адреса

Для исключения контенера из ссылки необходимо в настройках ресурса во вкладке Настройки. Новости был отмечен пункт — Использовать псевдоним в пути псевдонимов. Необходимо снять галочку "Использовать псевдоним в пути псевдонимов"

![Исключить контенер из URL](files.dtls.su/img/article/a08092019-1/hideurl.png)
